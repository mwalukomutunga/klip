(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{7627:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/location",function(){return r(8257)}])},6643:function(e,n,r){"use strict";var o=r(9669),a=r.n(o),i=r(3361),s=function(e){return toast(e,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};a().defaults.baseURL="https://ims.crionline.africa/api/",a().interceptors.request.use((function(e){var n,r,o,a,s=i.Z.getState();return(null===(n=s.user)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.token)&&(e.headers.Authorization="Bearer ".concat(null===(o=s.user)||void 0===o||null===(a=o.user)||void 0===a?void 0:a.token)),e})),a().interceptors.response.use((function(e){return"201"===(null===e||void 0===e?void 0:e.status)&&s("Request was successful"),e}),(function(e){var n;if(null===(n=e.response)||void 0===n?void 0:n.status){var r=e.response,o=r.data;switch(r.status){case 400:if(null===o||void 0===o?void 0:o.errors){var a=[];for(var i in o.errors)o.errors[i]&&a.push(o.errors[i]);s(a.flat().join("\n"))}else s(o);break;case 201:s("request was successful");break;case 403:case 401:s("You are not authorised to access this page");break;case 404:s("The resource you are accessing is not available at the moment");break;case 500:case 501:case 503:s("Server failed");break;default:s("Failed to load resources")}}}));var l=function(e){return e.data},t={get:function(e){return a().get(e).then(l)},post:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a().post(e,n).then(l)},put:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a().put(e,n).then(l)},del:function(e){return a().delete(e).then(l)}};n.Z=t},4160:function(e,n,r){"use strict";var o=r(5893);n.Z=function(e){var n=e.children,r=e.Page;return(0,o.jsxs)("div",{className:"content-page",children:[(0,o.jsx)("div",{className:"content",children:(0,o.jsxs)("div",{className:"container-fluid",children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12",children:(0,o.jsxs)("div",{className:"page-title-box",children:[(0,o.jsx)("h4",{className:"page-title",children:"Farmer Information"}),(0,o.jsx)("div",{className:"page-title-right",children:(0,o.jsxs)("ol",{className:"breadcrumb m-0",children:[(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"javascript: void(0);",children:"Farmer"})}),(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"javascript: void(0);",children:"info"})}),(0,o.jsx)("li",{className:"breadcrumb-item active",children:"Input"})]})})]})})}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h4",{className:"header-title",children:r}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12",children:(0,o.jsx)("div",{className:"p-2",children:n})})})]})})})})]})}),(0,o.jsx)("footer",{className:"footer",children:(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("script",{children:"document.write(new Date().getFullYear())"})," \xa9 Zep-Re"]}),(0,o.jsx)("div",{className:"col-md-6",children:(0,o.jsxs)("div",{className:"text-md-end footer-links d-none d-sm-block",children:[(0,o.jsx)("a",{href:"javascript:void(0);",children:"About Us"}),(0,o.jsx)("a",{href:"javascript:void(0);",children:"Help"}),(0,o.jsx)("a",{href:"javascript:void(0);",children:"Contact Us"})]})})]})})})]})}},8257:function(e,n,r){"use strict";r.r(n);var o=r(5893),a=r(4160),i=r(9473),s=r(7294),l=r(6643),t=r(1163);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(n){c(e,n,r[n])}))}return e}n.default=function(){var e,n,r,c,u=(0,i.v9)((function(e){return e.user})),v=(0,s.useState)({}),m=v[0],f=v[1],h=(0,s.useState)([]),j=h[0],p=h[1],x=(0,s.useState)([]),b=x[0],N=x[1],g=(0,s.useState)([]),w=g[0],y=g[1],k=(0,s.useState)([]),L=k[0],C=k[1],O=(0,t.useRouter)();(0,s.useEffect)((function(){var e;l.Z.get("Auth/"+(null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e.email)).then((function(e){f(e)})),l.Z.get("Regions/regions").then((function(e){p(e)}))}),[]);return(0,o.jsx)(a.Z,{Page:"Location Information",children:(0,o.jsxs)("form",{className:"form-horizontal",onSubmit:function(e){return function(e){var n;e.preventDefault(),l.Z.put("Auth/"+ +(null===u||void 0===u||null===(n=u.user)||void 0===n?void 0:n.email),m).then((function(e){O.push("/")}))}(e)},role:"form",children:[(0,o.jsxs)("div",{className:"mb-2 row",children:[(0,o.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Region"}),(0,o.jsx)("div",{className:"col-md-10",children:(0,o.jsx)("select",{value:null===m||void 0===m||null===(e=m.farmerLocation)||void 0===e?void 0:e.region,onChange:function(e,n){e.persist();var r=e.target;l.Z.get("Regions/county/"+(null===r||void 0===r?void 0:r.value)).then((function(e){N(e)})),f((function(e){return d({},e,{farmerLocation:d({},e.farmerLocation,{region:null===r||void 0===r?void 0:r.value})})}))},className:"form-control",children:null===j||void 0===j?void 0:j.map((function(e,n){return(0,o.jsx)("option",{children:e},n)}))})})]}),(0,o.jsxs)("div",{className:"mb-2 row",children:[(0,o.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"County"}),(0,o.jsx)("div",{className:"col-md-10",children:(0,o.jsx)("select",{value:null===m||void 0===m||null===(n=m.farmerLocation)||void 0===n?void 0:n.county,onChange:function(e){e.persist();var n=e.target;l.Z.get("Regions/subcounty/"+(null===n||void 0===n?void 0:n.value)).then((function(e){y(e)})),f((function(e){return d({},e,{farmerLocation:d({},e.farmerLocation,{county:null===n||void 0===n?void 0:n.value})})}))},className:"form-control",children:null===b||void 0===b?void 0:b.map((function(e,n){return(0,o.jsx)("option",{children:e},n)}))})})]}),(0,o.jsxs)("div",{className:"mb-2 row",children:[(0,o.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Sub County"}),(0,o.jsx)("div",{className:"col-md-10",children:(0,o.jsx)("select",{value:null===m||void 0===m||null===(r=m.farmerLocation)||void 0===r?void 0:r.subCounty,onChange:function(e){e.persist();var n=e.target;console.log(n),l.Z.get("Regions/ward/"+(null===n||void 0===n?void 0:n.value)).then((function(e){C(e)})),f((function(e){return d({},e,{farmerLocation:d({},e.farmerLocation,{subCounty:null===n||void 0===n?void 0:n.value})})}))},className:"form-control",children:null===w||void 0===w?void 0:w.map((function(e,n){return(0,o.jsx)("option",{children:e},n)}))})})]}),(0,o.jsxs)("div",{className:"mb-2 row",children:[(0,o.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Ward"}),(0,o.jsx)("div",{className:"col-md-10",children:(0,o.jsx)("select",{value:null===m||void 0===m||null===(c=m.farmerLocation)||void 0===c?void 0:c.ward,onChange:function(e){e.persist();var n=e.target;f((function(e){return d({},e,{farmerLocation:d({},e.farmerLocation,{ward:null===n||void 0===n?void 0:n.value})})}))},className:"form-control",children:null===L||void 0===L?void 0:L.map((function(e,n){return(0,o.jsx)("option",{children:e},n)}))})})]}),(0,o.jsx)("div",{className:"d-grid text-center",children:(0,o.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"})})]})})}}},function(e){e.O(0,[669,774,888,179],(function(){return n=7627,e(e.s=n);var n}));var n=e.O();_N_E=n}]);