(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{5571:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uploads",function(){return r(7852)}])},6643:function(e,s,r){"use strict";var a=r(9669),n=r.n(a),i=r(3361),t=function(e){return toast(e,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};n().defaults.baseURL="https://ims.crionline.africa/api/",n().interceptors.request.use((function(e){var s,r,a,n,t=i.Z.getState();return(null===(s=t.user)||void 0===s||null===(r=s.user)||void 0===r?void 0:r.token)&&(e.headers.Authorization="Bearer ".concat(null===(a=t.user)||void 0===a||null===(n=a.user)||void 0===n?void 0:n.token)),e})),n().interceptors.response.use((function(e){return"201"===(null===e||void 0===e?void 0:e.status)&&t("Request was successful"),e}),(function(e){var s;if(null===(s=e.response)||void 0===s?void 0:s.status){var r=e.response,a=r.data;switch(r.status){case 400:if(null===a||void 0===a?void 0:a.errors){var n=[];for(var i in a.errors)a.errors[i]&&n.push(a.errors[i]);t(n.flat().join("\n"))}else t(a);break;case 201:t("request was successful");break;case 403:case 401:t("You are not authorised to access this page");break;case 404:t("The resource you are accessing is not available at the moment");break;case 500:case 501:case 503:t("Server failed");break;default:t("Failed to load resources")}}}));var c=function(e){return e.data},l={get:function(e){return n().get(e).then(c)},post:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n().post(e,s).then(c)},put:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n().put(e,s).then(c)},del:function(e){return n().delete(e).then(c)}};s.Z=l},7852:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var a=r(5893),n=function(e){var s=e.children;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"content-page",children:[(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"page-title-box",children:[(0,a.jsx)("h4",{className:"page-title",children:"File Uploads"}),(0,a.jsx)("div",{className:"page-title-right",children:(0,a.jsxs)("ol",{className:"breadcrumb m-0",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)("a",{href:"javascript: void(0);",children:"KLIP"})}),(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)("a",{href:"javascript: void(0);",children:"Farmer"})}),(0,a.jsx)("li",{className:"breadcrumb-item active",children:"File Uploads"})]})})]})})}),s,(0,a.jsx)("div",{className:"d-none",id:"uploadPreviewTemplate",children:(0,a.jsx)("div",{className:"card mt-1 mb-0 shadow-none border",children:(0,a.jsx)("div",{className:"p-2",children:(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-auto",children:(0,a.jsx)("img",{"data-dz-thumbnail":!0,src:"forms-file-uploads.html#",className:"avatar-sm rounded bg-light",alt:""})}),(0,a.jsxs)("div",{className:"col ps-0",children:[(0,a.jsx)("a",{href:"javascript:void(0);",className:"text-muted fw-bold","data-dz-name":!0}),(0,a.jsx)("p",{className:"mb-0","data-dz-size":!0})]}),(0,a.jsx)("div",{className:"col-auto",children:(0,a.jsx)("a",{href:"forms-file-uploads.html",className:"btn btn-link btn-lg text-muted","data-dz-remove":!0,children:(0,a.jsx)("i",{className:"fe-x"})})})]})})})})]})}),(0,a.jsx)("footer",{className:"footer",children:(0,a.jsx)("div",{className:"container-fluid",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("script",{children:"document.write(new Date().getFullYear())"})," \xa9 KLIP"]}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"text-md-end footer-links d-none d-sm-block",children:[(0,a.jsx)("a",{href:"javascript:void(0);",children:"About Us"}),(0,a.jsx)("a",{href:"javascript:void(0);",children:"Help"}),(0,a.jsx)("a",{href:"javascript:void(0);",children:"Contact Us"})]})})]})})})]})})},i=r(7294),t=r(5162),c=r(1163),l=r(9473),o=r(6643);function d(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function u(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(s){d(e,s,r[s])}))}return e}var h=function(e){var s=(0,c.useRouter)(),r=(0,l.v9)((function(e){return e.user})),d=(0,i.useState)([]),h=d[0],m=d[1],f=(0,i.useCallback)((function(e){m(e)}),[]),v=(0,t.uI)({maxFiles:10,onDrop:f,accept:{"image/*":[".jpeg",".jpg",".gif",".png"]}}),p=v.acceptedFiles,j=v.fileRejections,x=v.getRootProps,b=v.getInputProps,g=p.map((function(e){return(0,a.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)})),N=j.map((function(e){var s=e.file,r=e.errors;return(0,a.jsxs)("li",{children:[s.path," - ",s.size," bytes",(0,a.jsx)("ul",{children:r.map((function(e){return(0,a.jsx)("li",{children:e.message},e.code)}))})]},s.path)}));return(0,a.jsxs)(n,{children:[(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",u({},x({className:"dropzone"}),{children:[(0,a.jsx)("input",u({},b())),(0,a.jsx)("p",{children:"Drag 'n' drop farm images here, or click to select files"}),(0,a.jsx)("em",{children:"(10 files are the maximum number of files you can drop here)"})]})),(0,a.jsxs)("aside",{children:[(0,a.jsx)("h4",{children:"Accepted files"}),(0,a.jsx)("ul",{children:g}),(0,a.jsx)("h4",{children:"Rejected files"}),(0,a.jsx)("ul",{children:N})]})]}),(0,a.jsx)("div",{className:"d-grid text-center",children:(0,a.jsx)("button",{onClick:function(){return function(){var e,a=new FormData;a.append("files",h[0]);for(var n=1;n<h.length;n++)a.append("files",h[n]);o.Z.post("/uploads/"+(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.email),a).then((function(e){s.push("/bio")}))}()},className:"btn btn-primary",children:"upload"})})]})},m=h}},function(e){e.O(0,[669,162,774,888,179],(function(){return s=5571,e(e.s=s);var s}));var s=e.O();_N_E=s}]);