(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{1385:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nextkin",function(){return n(2894)}])},6643:function(e,l,n){"use strict";var a=n(9669),o=n.n(a),r=n(3361),s=function(e){return toast(e,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};o().defaults.baseURL="https://ims.crionline.africa/api/",o().interceptors.request.use((function(e){var l,n,a,o,s=r.Z.getState();return(null===(l=s.user)||void 0===l||null===(n=l.user)||void 0===n?void 0:n.token)&&(e.headers.Authorization="Bearer ".concat(null===(a=s.user)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.token)),e})),o().interceptors.response.use((function(e){return"201"===(null===e||void 0===e?void 0:e.status)&&s("Request was successful"),e}),(function(e){var l;if(null===(l=e.response)||void 0===l?void 0:l.status){var n=e.response,a=n.data;switch(n.status){case 400:if(null===a||void 0===a?void 0:a.errors){var o=[];for(var r in a.errors)a.errors[r]&&o.push(a.errors[r]);s(o.flat().join("\n"))}else s(a);break;case 201:s("request was successful");break;case 403:case 401:s("You are not authorised to access this page");break;case 404:s("The resource you are accessing is not available at the moment");break;case 500:case 501:case 503:s("Server failed");break;default:s("Failed to load resources")}}}));var i=function(e){return e.data},c={get:function(e){return o().get(e).then(i)},post:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o().post(e,l).then(i)},put:function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o().put(e,l).then(i)},del:function(e){return o().delete(e).then(i)}};l.Z=c},4160:function(e,l,n){"use strict";var a=n(5893);l.Z=function(e){var l=e.children,n=e.Page;return(0,a.jsxs)("div",{className:"content-page",children:[(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"page-title-box",children:[(0,a.jsx)("h4",{className:"page-title",children:"Farmer Information"}),(0,a.jsx)("div",{className:"page-title-right",children:(0,a.jsxs)("ol",{className:"breadcrumb m-0",children:[(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)("a",{href:"javascript: void(0);",children:"Farmer"})}),(0,a.jsx)("li",{className:"breadcrumb-item",children:(0,a.jsx)("a",{href:"javascript: void(0);",children:"info"})}),(0,a.jsx)("li",{className:"breadcrumb-item active",children:"Input"})]})})]})})}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h4",{className:"header-title",children:n}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)("div",{className:"p-2",children:l})})})]})})})})]})}),(0,a.jsx)("footer",{className:"footer",children:(0,a.jsx)("div",{className:"container-fluid",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsx)("script",{children:"document.write(new Date().getFullYear())"})," \xa9 Zep-Re"]}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsxs)("div",{className:"text-md-end footer-links d-none d-sm-block",children:[(0,a.jsx)("a",{href:"javascript:void(0);",children:"About Us"}),(0,a.jsx)("a",{href:"javascript:void(0);",children:"Help"}),(0,a.jsx)("a",{href:"javascript:void(0);",children:"Contact Us"})]})})]})})})]})}},2894:function(e,l,n){"use strict";n.r(l);var a=n(5893),o=n(4160),r=n(9473),s=n(7294),i=n(6643),c=n(1163);function t(e,l,n){return l in e?Object.defineProperty(e,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[l]=n,e}function d(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(l){t(e,l,n[l])}))}return e}l.default=function(){var e,l,n,u,m,v,h,f,x,p,j,N=(0,r.v9)((function(e){return e.user})),b=(0,s.useState)({}),g=b[0],w=b[1],k=(0,s.useState)([]),O=k[0],y=k[1],C=(0,s.useState)([]),K=C[0],S=C[1],_=(0,s.useState)([]),B=_[0],R=_[1],Z=(0,s.useState)([]),P=Z[0],V=Z[1],A=(0,c.useRouter)();(0,s.useEffect)((function(){var e;i.Z.get("Auth/"+(null===N||void 0===N||null===(e=N.user)||void 0===e?void 0:e.email)).then((function(e){w(e)})),i.Z.get("Regions/regions").then((function(e){y(e)}))}),[]);var E=function(e){e.persist();var l=e.target,n="checkbox"===l.type?l.checked:l.value,a=l.name;w((function(e){return d({},e,{nextOfKin:d({},e.nextOfKin,t({},a,n))})}))};return(0,a.jsx)(o.Z,{Page:"Next Of Kin",children:(0,a.jsxs)("form",{className:"form-horizontal",onSubmit:function(e){return function(e){var l;e.preventDefault(),i.Z.put("Auth/"+ +(null===N||void 0===N||null===(l=N.user)||void 0===l?void 0:l.email),g).then((function(e){A.push("/")}))}(e)},role:"form",children:[(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Full Name"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Full name",name:"fullname",defaultValue:null===g||void 0===g||null===(e=g.nextOfKin)||void 0===e?void 0:e.fullname,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"ID Number"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"ID Number",name:"idno",defaultValue:null===g||void 0===g||null===(l=g.nextOfKin)||void 0===l?void 0:l.idno,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Relationship"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Relationship",name:"relationShip",defaultValue:null===g||void 0===g||null===(n=g.nextOfKin)||void 0===n?void 0:n.relationShip,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Bank Name"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Bank name",name:"bankName",defaultValue:null===g||void 0===g||null===(u=g.nextOfKin)||void 0===u?void 0:u.bankName,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Bank Branch"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Bank Branch",name:"bankBranch",defaultValue:null===g||void 0===g||null===(m=g.nextOfKin)||void 0===m?void 0:m.bankBranch,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Bank Account No"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"bank account no",name:"bankAccountNo",defaultValue:null===g||void 0===g||null===(v=g.nextOfKin)||void 0===v?void 0:v.bankAccountNo,onChange:E})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Payment Method"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsxs)("select",{defaultValue:null===g||void 0===g||null===(h=g.nextOfKin)||void 0===h?void 0:h.paymentMethod,onChange:E,className:"form-control",children:[(0,a.jsx)("option",{children:"Mpesa"}),(0,a.jsx)("option",{children:"Cash"}),(0,a.jsx)("option",{children:"Visa"}),(0,a.jsx)("option",{children:"MasterCard"})]})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Region"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("select",{value:null===g||void 0===g||null===(f=g.farmerLocation)||void 0===f?void 0:f.region,onChange:function(e,l){e.persist();var n=e.target;i.Z.get("Regions/county/"+(null===n||void 0===n?void 0:n.value)).then((function(e){S(e)})),w((function(e){return d({},e,{nextOfKin:d({},e.nextOfKin,{region:null===n||void 0===n?void 0:n.value})})}))},className:"form-control",children:null===O||void 0===O?void 0:O.map((function(e,l){return(0,a.jsx)("option",{children:e},l)}))})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"County"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("select",{value:null===g||void 0===g||null===(x=g.farmerLocation)||void 0===x?void 0:x.county,onChange:function(e){e.persist();var l=e.target;i.Z.get("Regions/subcounty/"+(null===l||void 0===l?void 0:l.value)).then((function(e){R(e)})),w((function(e){return d({},e,{nextOfKin:d({},e.nextOfKin,{county:null===l||void 0===l?void 0:l.value})})}))},className:"form-control",children:null===K||void 0===K?void 0:K.map((function(e,l){return(0,a.jsx)("option",{children:e},l)}))})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Sub County"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("select",{value:null===g||void 0===g||null===(p=g.farmerLocation)||void 0===p?void 0:p.subCounty,onChange:function(e){e.persist();var l=e.target;console.log(l),i.Z.get("Regions/ward/"+(null===l||void 0===l?void 0:l.value)).then((function(e){V(e)})),w((function(e){return d({},e,{nextOfKin:d({},e.nextOfKin,{subCounty:null===l||void 0===l?void 0:l.value})})}))},className:"form-control",children:null===B||void 0===B?void 0:B.map((function(e,l){return(0,a.jsx)("option",{children:e},l)}))})})]}),(0,a.jsxs)("div",{className:"mb-2 row",children:[(0,a.jsx)("label",{className:"col-md-2 col-form-label",for:"example-placeholder",children:"Ward"}),(0,a.jsx)("div",{className:"col-md-10",children:(0,a.jsx)("select",{value:null===g||void 0===g||null===(j=g.farmerLocation)||void 0===j?void 0:j.ward,onChange:function(e){e.persist();var l=e.target;w((function(e){return d({},e,{nextOfKin:d({},e.nextOfKin,{ward:null===l||void 0===l?void 0:l.value})})}))},className:"form-control",children:null===P||void 0===P?void 0:P.map((function(e,l){return(0,a.jsx)("option",{children:e},l)}))})})]}),(0,a.jsx)("div",{className:"d-grid text-center",children:(0,a.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Update"})})]})})}}},function(e){e.O(0,[669,774,888,179],(function(){return l=1385,e(e.s=l);var l}));var l=e.O();_N_E=l}]);